<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hollywood Moneyball - Filmipari BI Projekt</title>
    
    <script src="https://cdn.jsdelivr.net/npm/vega@5.25.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.16.3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.2"></script>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">

    <style>
        /* MOZI STÍLUSÚ CSS (Dark Mode) */
        :root {
            --bg-color: #141414; /* Netflix fekete */
            --card-bg: #1f1f1f;
            --text-main: #e5e5e5;
            --text-muted: #a3a3a3;
            --accent: #e50914; /* Netflix piros */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            background: linear-gradient(to bottom, #000000, var(--bg-color));
            padding: 40px 20px;
            text-align: center;
            border-bottom: 2px solid var(--accent);
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3em;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.2em;
            margin-top: 10px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Grid elrendezés a vizualizációknak */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        @media (min-width: 900px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .full-width {
                grid-column: span 2;
            }
        }

        .chart-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.5);
            transition: transform 0.2s;
        }

        .chart-card:hover {
            transform: translateY(-5px);
            border: 1px solid #333;
        }

        h2 {
            font-family: 'Montserrat', sans-serif;
            color: var(--accent);
            border-left: 4px solid var(--accent);
            padding-left: 10px;
            margin-top: 0;
        }

        p.desc {
            font-size: 0.9em;
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        footer {
            text-align: center;
            padding: 40px;
            color: var(--text-muted);
            font-size: 0.8em;
            border-top: 1px solid #333;
        }
    </style>
</head>
<body>

    <header>
        <h1>Hollywood Moneyball</h1>
        <div class="subtitle">Adatvezérelt betekintés a filmipar megtérülésébe</div>
    </header>

    <div class="container">
        <div style="margin-bottom: 40px;">
            <h3>Miért fontos ez?</h3>
            <p>Ez a dashboard a filmes befektetések megtérülését (ROI) vizsgálja. A cél azonosítani azokat a műfajokat és költségvetési kategóriákat, amelyek a legmagasabb profitot hozzák a stúdióknak.</p>
        </div>

        <div class="dashboard-grid">
            
            <div class="chart-card full-width">
                <h2>Globális Bevételek</h2>
                <p class="desc">Mely országok gyártják a legtöbb bevételt termelő filmeket? (Húzd az egeret az országokra!)</p>
                <div id="vis-map"></div>
            </div>

            <div class="chart-card">
                <h2>A Blockbuster Recept</h2>
                <p class="desc">Költségvetés (Budget) vs. Bevétel (Revenue). A vonal feletti pontok a nyereséges filmek.</p>
                <div id="vis-scatter"></div>
            </div>

            <div class="chart-card">
                <h2>Műfaji Trendek</h2>
                <p class="desc">Hogyan változott az átlagos profit az évek során műfajonként?</p>
                <div id="vis-trend"></div>
            </div>

        </div>
    </div>

    <footer>
        <p>Készítette: Csilip Loránd | Adatforrás: TMDB 5000 Movies Dataset | Business Intelligence Projekt 2026</p>
    </footer>

    <script>
        // --- ADATKONFIGURÁCIÓ ---
        // Ha kész vagy az Excel csv-vel, írd át ezt "url": "movies.csv"-re!
        const dataSource = {
            "url": "https://raw.githubusercontent.com/lorandcs/lorandcs.github.io/refs/heads/main/movies.csv"
        };

        // --- 1. TÉRKÉP SPECIFIKÁCIÓ ---
        const specMap = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": "container",
            "height": 300,
            "background": "transparent",
            "data": {
                "url": "https://raw.githubusercontent.com/deldersveld/topojson/master/world-countries.json",
                "format": {"type": "topojson", "feature": "countries1"}
            },
            "transform": [
                {
                    "lookup": "properties.name",
                    "from": {
                        "data": dataSource, // Itt használjuk a te adataidat
                        "key": "Country",
                        "fields": ["Revenue"]
                    }
                }
            ],
            "mark": {"type": "geoshape", "stroke": "#333"},
            "encoding": {
                "color": {
                    "field": "Revenue",
                    "type": "quantitative",
                    "scale": {"scheme": "reds"},
                    "title": "Bevétel ($)"
                },
                "tooltip": [
                    {"field": "properties.name", "type": "nominal", "title": "Ország"},
                    {"field": "Revenue", "type": "quantitative", "format": "$,.0f", "title": "Összbevétel"}
                ]
            },
            "config": {"text": {"color": "#e5e5e5"}, "axis": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}, "legend": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}}
        };

        // --- 2. SCATTER PLOT SPECIFIKÁCIÓ ---
        const specScatter = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": "container",
            "height": 300,
            "background": "transparent",
            "data": dataSource,
            "mark": "circle",
            "encoding": {
                "x": {"field": "Budget", "type": "quantitative", "title": "Költségvetés ($)", "axis": {"gridColor": "#333"}},
                "y": {"field": "Revenue", "type": "quantitative", "title": "Bevétel ($)", "axis": {"gridColor": "#333"}},
                "color": {"field": "Genre", "type": "nominal", "title": "Műfaj"},
                "size": {"value": 100},
                "tooltip": [
                    {"field": "Title", "title": "Cím"},
                    {"field": "Budget", "format": "$,.0f"},
                    {"field": "Revenue", "format": "$,.0f"},
                    {"field": "Genre"}
                ]
            },
            "config": {"text": {"color": "#e5e5e5"}, "axis": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}, "legend": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}}
        };

        // --- 3. TREND LINE SPECIFIKÁCIÓ ---
        const specTrend = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": "container",
            "height": 300,
            "background": "transparent",
            "data": dataSource,
            "mark": {"type": "line", "point": true},
            "encoding": {
                "x": {"field": "Year", "type": "ordinal", "title": "Év", "axis": {"gridColor": "#333"}},
                "y": {"field": "Revenue", "type": "quantitative", "aggregate": "mean", "title": "Átlagbevétel ($)", "axis": {"gridColor": "#333"}},
                "color": {"field": "Genre", "type": "nominal"},
                "tooltip": [
                    {"field": "Genre"},
                    {"field": "Year"},
                    {"field": "Revenue", "aggregate": "mean", "format": "$,.0f", "title": "Átlag"}
                ]
            },
            "config": {"text": {"color": "#e5e5e5"}, "axis": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}, "legend": {"labelColor": "#a3a3a3", "titleColor": "#e5e5e5"}}
        };

        // Vizualizációk renderelése
        vegaEmbed('#vis-map', specMap);
        vegaEmbed('#vis-scatter', specScatter);
        vegaEmbed('#vis-trend', specTrend);
    </script>
</body>
</html>


